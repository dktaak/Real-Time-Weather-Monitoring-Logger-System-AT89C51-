C51 COMPILER V9.60.0.0   INTERRUPT_DRIVER                                                  05/02/2021 10:09:26 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE INTERRUPT_DRIVER
OBJECT MODULE PLACED IN .\Objects\interrupt_driver.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE interrupt_driver.c OPTIMIZE(8,SPEED) BROWSE PRINT(.\Listings\interrupt_d
                    -river.lst) TABS(2) OBJECT(.\Objects\interrupt_driver.obj)

line level    source

   1          #include"header.h"
   2          extern void delay(u16);
   3          //sbit led=P1^7;
   4          
   5          void int0_enable(void)
   6          {
   7   1        EA=EX0=1;
   8   1        IT0=1;//edge triggered
   9   1      }
  10          void int0_disable(void)
  11          {
  12   1        EA=EX0=0;
  13   1        //IT0=1;//no matter
  14   1      }
  15          
  16          
  17          void int0_handler(void) interrupt 0
  18          {
  19   1        u16 mr=0x0000;u8 time[12];u8 i;
  20   1        while(mr<200){
  21   2        for(i=0;i<10;i++){
  22   3        time[i] = i2c_byte_read_at24c512(0xA0,mr++);
  23   3        }
  24   2        time[i]='\0';
  25   2        uart_tx_string(time);
  26   2        uart_tx_string("\r\n");
  27   2      }
  28   1        
  29   1        
  30   1      //  led=~led;
  31   1      //  lcd_string("SW pressed");
  32   1      //  delay(1000);
  33   1      //  lcd_cmd(0x1);
  34   1      }
  35          
  36          
  37          //void int0_handler(void) interrupt 0
  38          //{
  39          //  u8 a[15];
  40          //  uart_rx_string(a,15);
  41          //  lcd_string(a);
  42          //}
  43          
  44          
  45          /////////////////////////////////////////////////////////////
  46          
  47          //void timer0_enable()
  48          //{
  49          //  TMOD=0x1;
  50          //  TH0=0x3c;
  51          //  TL0=0XB0;
  52          //  EA=ET0=1;
  53          //  TR0=1;
  54          //}
C51 COMPILER V9.60.0.0   INTERRUPT_DRIVER                                                  05/02/2021 10:09:26 PAGE 2   

  55          
  56          //void timer0_handler(void) interrupt 1
  57          //{
  58          //  static char i;
  59          //  TR0=0;
  60          //  
  61          //  i++;
  62          //  if(i==20)
  63          //  {
  64          //    led=~led;
  65          //    i=0;
  66          //  }
  67          //  TH0=0x3c;
  68          //  TL0=0XB0;
  69          //  TR0=1;
  70          //}
  71          
  72          ////////////////////////////////////////////////////////
  73          /*
  74          void uart_interrupt_enable(void)
  75          {
  76            ES=EA=1;
  77          }
  78          //void uart_interrupt_disable(void)
  79          //{
  80          //  ES=EA=0;
  81          //}
  82          extern u8 arr[20];
  83          extern bit flag;//declare single bit_
  84          //extern u8 i;
  85          
  86          void uart_handler(void) interrupt 4//auto called by cpu; no need to declare prototype of isr
  87          {
  88              //only x code_ here
  89              static u8 i=0;
  90              if(RI==1)//chking for any uart _interrupt
  91              {
  92                RI=0;//imp
  93                arr[i]=SBUF;
  94                uart_tx(arr[i]);
  95                i++;
  96                if((arr[i-1]==Enter_key))
  97                {
  98                  arr[i-1]=0;
  99                  i=0;
 100                  flag=1;
 101                }
 102              else if((i==19))
 103                {
 104                  i=0;
 105                  arr[19]='\0';
 106                  flag=1;
 107                }
 108              }
 109          }
 110          */


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    154    ----
   CONSTANT SIZE    =      3    ----
   XDATA SIZE       =   ----    ----
C51 COMPILER V9.60.0.0   INTERRUPT_DRIVER                                                  05/02/2021 10:09:26 PAGE 3   

   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----      15
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
